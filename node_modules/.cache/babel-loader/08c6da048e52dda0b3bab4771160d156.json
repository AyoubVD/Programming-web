{"remainingRequest":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\src\\pages\\Gamepage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\src\\pages\\Gamepage.vue","mtime":1639482668000},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\babel.config.js","mtime":1639482668000},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639840158312},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1639840161861},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639840158312},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1639840164238}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGNvbXBvbmVudHMKaW1wb3J0IENhcm91c2VsIGZyb20gIi4uL2NvbXBvbmVudHMvQ2Fyb3VzZWwudnVlIjsgLy8gZXhwb3J0CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdhbWVwYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBDYXJvdXNlbDogQ2Fyb3VzZWwKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25nczogW10sCiAgICAgIGFjdGl2ZVNvbmdJbmRleDogMCwKICAgICAgdm90ZXM6IFt7CiAgICAgICAgcG9pbnRzOiAxLAogICAgICAgIGlzVm90ZWQ6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBwb2ludHM6IDIsCiAgICAgICAgaXNWb3RlZDogZmFsc2UKICAgICAgfSwgewogICAgICAgIHBvaW50czogNCwKICAgICAgICBpc1ZvdGVkOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgcG9pbnRzOiA4LAogICAgICAgIGlzVm90ZWQ6IGZhbHNlCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hTb25ncygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gbmF2aWdhdGlvbiBtZXRob2QKICAgIGdvVG9QYWdlOiBmdW5jdGlvbiBnb1RvUGFnZShwYWdlKSB7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZS1wYWdlIiwgcGFnZSk7CiAgICB9LAogICAgLy8gZGF0YSBtZXRob2RzCiAgICBmZXRjaFNvbmdzOiBmdW5jdGlvbiBmZXRjaFNvbmdzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gR2V0IGFsbCBzb25ncwogICAgICB2YXIgdXJsID0gImh0dHA6Ly93ZWJzZXJ2aWVzLmJlL2V1cm9zb25nL1NvbmdzIjsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNvbmdzKSB7CiAgICAgICAgX3RoaXMuZmV0Y2hBcnRpc3RzKHNvbmdzKTsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hBcnRpc3RzOiBmdW5jdGlvbiBmZXRjaEFydGlzdHMoc29uZ3MpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBHZXQgYWxsIGFydGlzdAogICAgICB2YXIgdXJsID0gImh0dHA6Ly93ZWJzZXJ2aWVzLmJlL2V1cm9zb25nL0FydGlzdHMiOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gcmVzcG9uc2UgaXMgdGV4dCwgc28gY29udmVydCB0byBqc29uCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXJ0aXN0cykgewogICAgICAgIC8vIGxvb3Agb3ZlciBhcnJheSBzb25ncyB3aXRoIGZvckVhY2ggbWV0aG9kCiAgICAgICAgc29uZ3MubWFwKGZ1bmN0aW9uIChzb25nKSB7CiAgICAgICAgICAvLyBmaW5kIHRoZSBhcnRpc3QgaW4gYW4gYXJyYXkKICAgICAgICAgIHZhciBhcnRpc3QgPSBhcnRpc3RzLmZpbmQoZnVuY3Rpb24gKGFydGlzdCkgewogICAgICAgICAgICByZXR1cm4gYXJ0aXN0LmlkID09IHNvbmcuYXJ0aXN0OwogICAgICAgICAgfSk7IC8vIHJlcGxhY2UgdGhlIGlkIGJ5IHRoZSBhcnRpc3Qgb2JqZWN0CgogICAgICAgICAgc29uZy5hcnRpc3QgPSBhcnRpc3Q7IC8vIHJldHVybiB0aGUgbmV3IG9iamVjdAoKICAgICAgICAgIHJldHVybiBzb25nOwogICAgICAgIH0pOyAvLyBjaGFuZ2UgZGF0YSBvZiBzb25ncywgc28gZXZlcnl0aGluZyB3aWxsIGdldCByZXJlbmRlcmQ7CgogICAgICAgIF90aGlzMi5zb25ncyA9IHNvbmdzOwogICAgICB9KTsKICAgIH0sCiAgICBwb3N0Vm90ZTogZnVuY3Rpb24gcG9zdFZvdGUocG9pbnRzKSB7CiAgICAgIHZhciBzb25nSWQgPSB0aGlzLnNvbmdzW3RoaXMuYWN0aXZlU29uZ0luZGV4XS5pZDsKICAgICAgdmFyIHVybCA9ICJodHRwOi8vd2Vic2Vydmllcy5iZS9ldXJvc29uZy9Wb3RlcyI7CiAgICAgIGZldGNoKHVybCwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHNvbmdJRDogc29uZ0lkLAogICAgICAgICAgcG9pbnRzOiBwb2ludHMKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGxvZ2ljIG1ldGhvZHMKICAgIGNoYW5nZUFjdGl2ZVNvbmdJbmRleDogZnVuY3Rpb24gY2hhbmdlQWN0aXZlU29uZ0luZGV4KGluZGV4KSB7CiAgICAgIHRoaXMuYWN0aXZlU29uZ0luZGV4ID0gaW5kZXg7CiAgICB9LAogICAgYWRkVm90ZTogZnVuY3Rpb24gYWRkVm90ZShwb2ludHMpIHsKICAgICAgdmFyIHZvdGVzID0gdGhpcy52b3RlczsgLy8gY3JlYXRlIG5ldyBhcnJheSB3aGVuIHBvaW50cyBpcyBlcXVhbCB0byBnaXZlbiBwb2ludHMsIGNoYW5nZSBpc1ZvdGVkIHN0YXRlIHNvIGl0IGRpc3NlcGVhcnMKCiAgICAgIHZvdGVzLm1hcChmdW5jdGlvbiAodm90ZSkgewogICAgICAgIGlmICh2b3RlLnBvaW50cyA9PSBwb2ludHMpIHsKICAgICAgICAgIHZvdGUuaXNWb3RlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdm90ZTsKICAgICAgfSk7IC8vIHBvc3QgaXQgdG8gdGhlIGFwaQoKICAgICAgdGhpcy5wb3N0Vm90ZShwb2ludHMpOyAvLyBjaGVjayBpZiBhbGwgdm90ZXMgaXNWb3RlZCBhcmUgc2V0IHRvIHRydWUgT1IgdGhlcmUgYXJlIG5vIGZhbHNlIHZvdGVzCgogICAgICB2YXIgYWN0aXZlVm90ZXMgPSB2b3Rlcy5maWx0ZXIoZnVuY3Rpb24gKHZvdGUpIHsKICAgICAgICByZXR1cm4gdm90ZS5pc1ZvdGVkID09IHRydWU7CiAgICAgIH0pOyAvLyBpZiBldmVyeXRoaW5nIGlzIHZvdGVkLCByZWRpcmVjdCB0byByYW5raW5nCgogICAgICBpZiAoYWN0aXZlVm90ZXMubGVuZ3RoID09IHZvdGVzLmxlbmd0aCkgewogICAgICAgIHRoaXMuZ29Ub1BhZ2UoInJhbmtpbmciKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Gamepage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <button @click=\"goToPage('home')\">\n            Go to home\n        </button>\n        <h1>\n            Game\n        </h1>\n\n        <Carousel\n            :items=\"songs\"\n            :activeIndex=\"activeSongIndex\"\n\n            @change-index=\"changeActiveSongIndex\"\n        />\n\n        <div v-for=\"(vote, index) in votes\" :key=\"index\" >\n            <button @click=\"addVote(vote.points)\" v-if=\"!vote.isVoted\">\n                Add {{ vote.points}} points\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\n    // components\n    import Carousel from \"../components/Carousel.vue\";\n\n    // export\n    export default {\n        name: \"Gamepage\",\n        components: {\n            Carousel\n        },\n        data() {\n            return {\n                songs: [],\n                activeSongIndex: 0,\n                votes: [\n                    {\n                        points: 1,\n                        isVoted: false\n                    },\n                    {\n                        points: 2,\n                        isVoted: false\n                    },\n                    {\n                        points: 4,\n                        isVoted: false\n                    },\n                    {\n                        points: 8,\n                        isVoted: false\n                    },\n                ]\n            }\n        },\n        mounted() {\n            this.fetchSongs();\n        },\n        methods: {\n            // navigation method\n            goToPage(page) {\n                this.$emit(\"change-page\", page);\n            },\n\n            // data methods\n            fetchSongs() {\n                // Get all songs\n                const url = \"http://webservies.be/eurosong/Songs\";\n\n                fetch(url)\n                    .then((response) => {\n                        return response.json();\n                    })\n                    .then((songs) => {\n                        this.fetchArtists(songs);\n                    });\n            },\n\n            fetchArtists(songs) {\n                // Get all artist\n                const url = \"http://webservies.be/eurosong/Artists\";\n\n                fetch(url)\n                    .then((response) => {\n                        // response is text, so convert to json\n                        return response.json();\n                    })\n                    .then((artists) => {\n                        // loop over array songs with forEach method\n                        songs.map((song) => {\n                            // find the artist in an array\n                            const artist = artists.find((artist) => artist.id == song.artist);\n\n                            // replace the id by the artist object\n                            song.artist = artist;\n\n                            // return the new object\n                            return song;\n                        });\n\n                        // change data of songs, so everything will get rerenderd;\n                        this.songs = songs;\n                    });\n            },\n\n            postVote(points) {\n                const songId = this.songs[this.activeSongIndex].id;\n                const url = \"http://webservies.be/eurosong/Votes\";\n\n                fetch(url, {\n                    method: \"POST\",\n                    headers: {\n                        'Accept': 'application/json, text/plain',\n                        'Content-Type': 'application/json;charset=UTF-8'\n                    },\n                    body: JSON.stringify({\n                        songID: songId,\n                        points: points,\n                    })\n                }).then((response) => {\n                    return response.json();\n                }).then((result) => {\n                    console.log(result);\n                })\n            },\n\n            // logic methods\n            changeActiveSongIndex(index) {\n                this.activeSongIndex = index;\n            },\n\n            addVote(points) {\n                let votes = this.votes;\n\n                // create new array when points is equal to given points, change isVoted state so it dissepears\n                votes.map((vote) => {\n                    if (vote.points == points) {\n                        vote.isVoted = true;\n                    }\n                    return vote;\n                });\n\n                // post it to the api\n                this.postVote(points);\n\n                // check if all votes isVoted are set to true OR there are no false votes\n                let activeVotes = votes.filter((vote) => vote.isVoted == true);\n\n                // if everything is voted, redirect to ranking\n                if (activeVotes.length == votes.length) {\n                    this.goToPage(\"ranking\");\n                }\n            }\n        }\n    }\n</script>"],"sourceRoot":"src/pages"}]}