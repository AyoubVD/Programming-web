{"remainingRequest":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\src\\pages\\Rankingpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\src\\pages\\Rankingpage.vue","mtime":1639854187852},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639840158312},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1639840161861},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639840158312},{"path":"C:\\Users\\ayoub\\OneDrive\\TMM\\Programming Web\\EuroSong - IMS\\eurosong-ims-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1639840164238}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmFua2luZ3BhZ2UiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29uZ3M6IFtdLAogICAgICB2b3RlczogW10sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hTb25ncygpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdvVG9QYWdlKHBhZ2UpIHsKICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlLXBhZ2UiLCBwYWdlKTsKICAgIH0sCgogICAgLy8gZGF0YSBtZXRob2RzCiAgICBmZXRjaFNvbmdzKCkgewogICAgICAvLyBHZXQgYWxsIHNvbmdzCiAgICAgIGNvbnN0IHVybCA9ICJodHRwOi8vd2Vic2Vydmllcy5iZS9ldXJvc29uZy9Tb25ncyI7CgogICAgICBmZXRjaCh1cmwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5zb25ncyA9IHJlc3BvbnNlKSkKICAgICAgICAudGhlbigoc29uZ3MpID0+IHsKICAgICAgICAgIHRoaXMuZmV0Y2hBcnRpc3RzKHNvbmdzKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBmZXRjaEFydGlzdHMoc29uZ3MpIHsKICAgICAgLy8gR2V0IGFsbCBhcnRpc3QKICAgICAgY29uc3QgdXJsID0gImh0dHA6Ly93ZWJzZXJ2aWVzLmJlL2V1cm9zb25nL0FydGlzdHMiOwoKICAgICAgZmV0Y2godXJsKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgLy8gcmVzcG9uc2UgaXMgdGV4dCwgc28gY29udmVydCB0byBqc29uCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKGFydGlzdHMpID0+IHsKICAgICAgICAgIC8vIGxvb3Agb3ZlciBhcnJheSBzb25ncyB3aXRoIGZvckVhY2ggbWV0aG9kCiAgICAgICAgICBzb25ncy5tYXAoKHNvbmcpID0+IHsKICAgICAgICAgICAgLy8gZmluZCB0aGUgYXJ0aXN0IGluIGFuIGFycmF5CiAgICAgICAgICAgIC8vY29uc3QgYXJ0aXN0ID0gYXJ0aXN0cy5maW5kKChhcnRpc3QpID0+IGFydGlzdC5pZCA9PSBzb25nLmFydGlzdCk7CiAgICAgICAgICAgIGNvbnN0IGFydGlzdCA9IGFydGlzdHMuZmluZCgoYXJ0aXN0KSA9PiBhcnRpc3QuaWQgPT0gc29uZy5hcnRpc3QpOwoKCiAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGlkIGJ5IHRoZSBhcnRpc3Qgb2JqZWN0CiAgICAgICAgICAgIHNvbmcuYXJ0aXN0ID0gYXJ0aXN0OwoKICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBuZXcgb2JqZWN0CiAgICAgICAgICAgIHJldHVybiBzb25nOwogICAgICAgICAgfSk7CgogICAgICAgICAgLy8gY2hhbmdlIGRhdGEgb2Ygc29uZ3MsIHNvIGV2ZXJ5dGhpbmcgd2lsbCBnZXQgcmVyZW5kZXJkOwogICAgICAgICAgdGhpcy5zb25ncyA9IHNvbmdzOwogICAgICAgIH0pOwogICAgfSwKCiAgICBmZXRjaFZvdGVzKHNvbmdzKSB7LyogCiAgICAgIC8vIEdldCBhbGwgdm90ZXMKICAgICAgY29uc3QgdXJsID0gImh0dHA6Ly93ZWJzZXJ2aWVzLmJlL2V1cm9zb25nL1ZvdGVzIjsKCiAgICAgIGZldGNoKHVybCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHRleHQsIHNvIGNvbnZlcnQgdG8ganNvbgogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9KQogICAgICAgIC50aGVuKCh2b3RlcykgPT4gewogICAgICAgICAgLy8gbG9vcCBvdmVyIGFycmF5IHNvbmdzIHdpdGggZm9yRWFjaCBtZXRob2QKICAgICAgICAgIHNvbmdzLm1hcCgoc29uZykgPT4gewogICAgICAgICAgICAvLyBmaW5kIHRoZSBhcnRpc3QgaW4gYW4gYXJyYXkKICAgICAgICAgICAgLy9jb25zdCB2b3RlcyA9IHZvdGVzLmZpbmQoKHBvaW50cykgPT4gdm90ZXMuaWQgPT0gc29uZy5zb25nSUQpOwogICAgICAgICAgICBjb25zdCB2b3RlcyA9IHZvdGVzLmZpbmQoKHBvaW50cykgPT4gdm90ZS5pZCA9PSBzb25nLnNvbmdJRCk7CgogICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBpZCBieSB0aGUgYXJ0aXN0IG9iamVjdAogICAgICAgICAgICBzb25nLnZvdGVzID0gdm90ZXM7CgogICAgICAgICAgICAvLyByZXR1cm4gdGhlIG5ldyBvYmplY3QKICAgICAgICAgICAgcmV0dXJuIHNvbmc7CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyBjaGFuZ2UgZGF0YSBvZiBzb25ncywgc28gZXZlcnl0aGluZyB3aWxsIGdldCByZXJlbmRlcmQ7CiAgICAgICAgICB0aGlzLnNvbmdzID0gc29uZ3M7CiAgICAgICAgfSk7ICovCiAgICAgICAgdm90ZXNbMF09NQogICAgICAgIHZvdGVzWzFdPTU2NQogICAgICAgIHZvdGVzWzJdPTU3OAogICAgICAgIHZvdGVzWzNdPTU5OAogICAgICAgIHZvdGVzWzRdPTQ1NzUKICAgICAgICBzb25nLnZvdGVzID0gdm90ZXM7CiAgICAgICAgcmV0dXJuIHNvbmc7CiAgICAgICAgdGhpcy5zb25ncyA9IHNvbmdzOwoKICAgIH0sCgoKICB9LAp9Owo="},{"version":3,"sources":["Rankingpage.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"Rankingpage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <button @click=\"goToPage('home')\">Go to home</button>\n    <h1>Ranking</h1>\n\n    <div v-for=\"song in songs\" :key=\"song.id\">\n      {{ song.title }} - {{ song.artist.name }}- {{ song.votes.points }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Rankingpage\",\n\n  data() {\n    return {\n      songs: [],\n      votes: [],\n    };\n  },\n  mounted() {\n    this.fetchSongs();\n  },\n\n  methods: {\n    goToPage(page) {\n      this.$emit(\"change-page\", page);\n    },\n\n    // data methods\n    fetchSongs() {\n      // Get all songs\n      const url = \"http://webservies.be/eurosong/Songs\";\n\n      fetch(url)\n        .then((response) => {\n          return response.json();\n        })\n        .then((response) => (this.songs = response))\n        .then((songs) => {\n          this.fetchArtists(songs);\n        });\n    },\n    fetchArtists(songs) {\n      // Get all artist\n      const url = \"http://webservies.be/eurosong/Artists\";\n\n      fetch(url)\n        .then((response) => {\n          // response is text, so convert to json\n          return response.json();\n        })\n        .then((artists) => {\n          // loop over array songs with forEach method\n          songs.map((song) => {\n            // find the artist in an array\n            //const artist = artists.find((artist) => artist.id == song.artist);\n            const artist = artists.find((artist) => artist.id == song.artist);\n\n\n            // replace the id by the artist object\n            song.artist = artist;\n\n            // return the new object\n            return song;\n          });\n\n          // change data of songs, so everything will get rerenderd;\n          this.songs = songs;\n        });\n    },\n\n    fetchVotes(songs) {/* \n      // Get all votes\n      const url = \"http://webservies.be/eurosong/Votes\";\n\n      fetch(url)\n        .then((response) => {\n          // response is text, so convert to json\n          return response.json();\n        })\n        .then((votes) => {\n          // loop over array songs with forEach method\n          songs.map((song) => {\n            // find the artist in an array\n            //const votes = votes.find((points) => votes.id == song.songID);\n            const votes = votes.find((points) => vote.id == song.songID);\n\n            // replace the id by the artist object\n            song.votes = votes;\n\n            // return the new object\n            return song;\n          });\n\n          // change data of songs, so everything will get rerenderd;\n          this.songs = songs;\n        }); */\n        votes[0]=5\n        votes[1]=565\n        votes[2]=578\n        votes[3]=598\n        votes[4]=4575\n        song.votes = votes;\n        return song;\n        this.songs = songs;\n\n    },\n\n\n  },\n};\n</script>"]}]}